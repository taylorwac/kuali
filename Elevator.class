<?


class Elvevator{
   var $startFloor;
   var $endFloor;
   var $currentFloor;
   var $doorStatus;
   var occupied = false;
   var stops = array();
   var interrupt = false;

   _constructor($startFloor, $endFloor){
      $this->startFloor = $startFloor;
      $this->endFloor = $endFloor;
   }

   function reportFloor(){
       array($this.startFloor,$currentFloor $this.endFloor);
   }

   function reportDoorStatus(){
      return $this->doorStatus;
   }
   
   function go($startFloor,$endFloor){
     $this->moveToFloor($startFloor);
     $this->getPassenger();
     $this->moveToFloor($endFloor);
   }

   function getPassenger(){
     $this->openDoor();
     this->occupied =true;
     $this->closeDoor();
   }

   function interrupt($startFloor, $endFloor){
      $this->interrupt = true;
      while($this->interupt){
         sleep(1);
      }
      $this->addStop($startFloor,$endFloor)
      
   }

   function moveToFloor($startFloor){
      while($currentFloor !=$startFloor){
         if($this->interrupt){
            $this->interrupt = false;
            break;
         }
         if($currentFloor <!$startFloor){
            $currentFloor += 1;
         }else{
            $currentFloor -= 1;
         }
         $this->reportFloor();
      }
   }


   



}
