<?


class Elvevator{
   var $startFloor;
   var $endFloor;
   var $currentFloor;
   var $doorStatus;
   var occupied = false;
   var stops = array();
   var interrupt = false;

   _constructor($startFloor, $endFloor){
      $this->startFloor = $startFloor;
      $this->endFloor = $endFloor;
   }

   function reportFloor(){
       array($this.startFloor,$currentFloor $this.endFloor);
   }

   function reportDoorStatus(){
      return $this->doorStatus;
   }
   
   function go($startFloor,$endFloor){
     $this->startFllor = $startFllor;
     $this->endFllor = $endFllor;
     $this->moveToFloor($startFloor);
     $this->getPassenger();
     $this->moveToFloor($endFloor);
   }

   function getPassenger(){
     $this->openDoor();
     this->occupied =true;
     $this->closeDoor();
   }

   function interrupt($startFloor, $endFloor){
      $this->interrupt = true;
      while($this->interupt){
         sleep(1);
      }
      $this->addStop($startFloor,$endFloor);
      
   }

   function addStop($startFloor, $endFllor){
      $this->addStop($startFllor);
      if($endFloor > $this->endFloor){
         $this->addSTop($this->endFloor)
         $endFloor;
      }else{
         $this->addStop($endFloor);
         $endFloor = $this->endFloor;
      }
      $this->go($this->currentFloor,$endFloor);
   }

   function moveToFloor($startFloor){
      while($currentFloor !=$startFloor){
         if($this->interrupt){
            $this->interrupt = false;
            break;
         }
         if(in_array($currentFloor,$this->stops){
            $this->getPasenger();
            $this->removeStop($currentFloor);
         }
         if($currentFloor <!$startFloor){
            $currentFloor += 1;
         }else{
            $currentFloor -= 1;
         }
         $this->reportFloor();
      }
   }


   



}
